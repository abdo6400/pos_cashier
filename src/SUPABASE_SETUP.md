# ๐๏ธ ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช Supabase

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุงููุงุดูุฑ POS ูุณุชุฎุฏู Supabase ููุงุนุฏุฉ ุจูุงูุงุช. ูุฐุง ุงูุฏููู ูุดุฑุญ ููููุฉ ุฅุนุฏุงุฏ ุงูุฌุฏูู ุงููุทููุจ.

---

## โ๏ธ ููุงุญุธุฉ ูุงูุฉ

ุงููุธุงู ูุนูู ุจุฏูู ูุงุนุฏุฉ ุจูุงูุงุช! ุฅุฐุง ูู ุชูู ุจุฅุนุฏุงุฏ Supabaseุ ุณูุนูู ุงููุธุงู ุจุจูุงูุงุช ูููุฐุฌูุฉ ุซุงุจุชุฉ.

**ุงุณุชุฎุฏุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงุฎุชูุงุฑู** ูููุตู ุจู ููุท ุฅุฐุง ุฃุฑุฏุช:
- ุญูุธ ุงูุจูุงูุงุช ุจุดูู ุฏุงุฆู
- ูุฒุงููุฉ ุงูุจูุงูุงุช ุนุจุฑ ุฃุฌูุฒุฉ ูุชุนุฏุฏุฉ
- ุงุณุชุฎุฏุงู ุงููุธุงู ูู ุจูุฆุฉ ุฅูุชุงุฌูุฉ

---

## ๐ ุฎุทูุงุช ุงูุฅุนุฏุงุฏ

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ุงูุฌุฏูู

ูู ููุญุฉ ุชุญูู Supabaseุ ูู ุจุชูููุฐ SQL ุงูุชุงูู:

```sql
-- ุฅูุดุงุก ุฌุฏูู kv_store_6ffc6762
CREATE TABLE IF NOT EXISTS public.kv_store_6ffc6762 (
  key TEXT PRIMARY KEY,
  value JSONB NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- ุฅุถุงูุฉ ููุฑุณ ููุจุญุซ ุงูุณุฑูุน
CREATE INDEX IF NOT EXISTS idx_kv_store_key_pattern 
ON public.kv_store_6ffc6762 USING btree (key text_pattern_ops);

-- ุชูููู RLS (Row Level Security)
ALTER TABLE public.kv_store_6ffc6762 ENABLE ROW LEVEL SECURITY;

-- ุณูุงุณุฉ ููุณูุงุญ ุจุฌููุน ุงูุนูููุงุช (ููุชุทููุฑ ููุท)
CREATE POLICY "Allow all operations for development"
ON public.kv_store_6ffc6762
FOR ALL
USING (true)
WITH CHECK (true);

-- ุฅุถุงูุฉ ุชุนููู ููุฌุฏูู
COMMENT ON TABLE public.kv_store_6ffc6762 
IS 'Key-Value store for POS system data';
```

### ุงูุฎุทูุฉ 2: ุงูุชุญูู ูู ุงูุฅุนุฏุงุฏ

ุจุนุฏ ุชุดุบูู SQLุ ุชุญูู ูู:
1. โ ุงูุฌุฏูู `kv_store_6ffc6762` ููุฌูุฏ
2. โ RLS ููุนูู
3. โ ุงูุณูุงุณุฉ ููุฌูุฏุฉ

### ุงูุฎุทูุฉ 3: ุฅุนุงุฏุฉ ุชุญููู ุงูุชุทุจูู

ุจุนุฏ ุฅูุดุงุก ุงูุฌุฏููุ ูู ุจุฅุนุงุฏุฉ ุชุญููู ุตูุญุฉ ุงูุชุทุจูู. ุณูููู ุงููุธุงู ุชููุงุฆูุงู ุจู:
- โ ุงูุชุญูู ูู ูุฌูุฏ ุงูุฌุฏูู
- โ ุชุญููู ุจูุงูุงุช ูููุฐุฌูุฉ (5 ููุชุฌุงุชุ 3 ุนููุงุกุ 2 ููุฑุฏูู)
- โ ุนุฑุถ ุฑุณุงูุฉ ูุฌุงุญ ูู Console

---

## ๐ ุงูุชุญูู ูู ูุฌุงุญ ุงูุฅุนุฏุงุฏ

ุงูุชุญ Console ูู ุงููุชุตูุญ (F12) ูุงุจุญุซ ุนู:

### โ ุฅุฐุง ูุฌุญ ุงูุฅุนุฏุงุฏ:
```
โ Sample data initialized successfully
```

### โ๏ธ ุฅุฐุง ูู ูุชู ุฅูุดุงุก ุงูุฌุฏูู:
```
โ๏ธ Database table not found. The POS system will work with mock data only.
โน๏ธ To use the database, please set up the kv_store_6ffc6762 table in Supabase.
```

---

## ๐ ูููู ุงูุจูุงูุงุช

ุงูุฌุฏูู ูุณุชุฎุฏู ููุท **Key-Value** ุญูุซ:

| Key Pattern | ุงูุงุณุชุฎุฏุงู |
|------------|----------|
| `product:*` | ุงูููุชุฌุงุช |
| `customer:*` | ุงูุนููุงุก |
| `supplier:*` | ุงูููุฑุฏูู |
| `invoice:*` | ุงูููุงุชูุฑ |
| `payment:*` | ุงููุฏููุนุงุช |
| `marketer:*` | ุงููุณูููู |
| `shipment:*` | ุงูุดุญูุงุช |
| `user:*` | ุงููุณุชุฎุฏููู |
| `settings` | ุงูุฅุนุฏุงุฏุงุช |

### ูุซุงู ุนูู ุงูุจูุงูุงุช:

```json
{
  "key": "product:prod_1696234567890",
  "value": {
    "id": "prod_1696234567890",
    "name": "ุดุงู ุฃุญูุฏ 100 ููุณ",
    "category": "ูุดุฑูุจุงุช",
    "price": 25.50,
    "cost": 18.00,
    "stock": 150,
    "unit": "ุนูุจุฉ",
    "barcode": "123456789"
  }
}
```

---

## ๐ ุงูุฃูุงู (ููุฅูุชุงุฌ)

โ๏ธ **ุชุญุฐูุฑ**: ุงูุณูุงุณุฉ ุงูุญุงููุฉ ุชุณูุญ ุจุฌููุน ุงูุนูููุงุช ููุฌููุน!

ูู ุจูุฆุฉ ุงูุฅูุชุงุฌุ ุงุณุชุจุฏู ุงูุณูุงุณุฉ ุจู:

```sql
-- ุญุฐู ุงูุณูุงุณุฉ ุงูุญุงููุฉ
DROP POLICY IF EXISTS "Allow all operations for development" 
ON public.kv_store_6ffc6762;

-- ุฅุถุงูุฉ ุณูุงุณุงุช ูุญุฏุฏุฉ
-- ูุซุงู: ุงูุณูุงุญ ููุท ูููุณุชุฎุฏููู ุงููุณุฌููู
CREATE POLICY "Authenticated users can read"
ON public.kv_store_6ffc6762
FOR SELECT
USING (auth.role() = 'authenticated');

CREATE POLICY "Authenticated users can insert"
ON public.kv_store_6ffc6762
FOR INSERT
WITH CHECK (auth.role() = 'authenticated');

CREATE POLICY "Authenticated users can update"
ON public.kv_store_6ffc6762
FOR UPDATE
USING (auth.role() = 'authenticated')
WITH CHECK (auth.role() = 'authenticated');

CREATE POLICY "Authenticated users can delete"
ON public.kv_store_6ffc6762
FOR DELETE
USING (auth.role() = 'authenticated');
```

---

## ๐๏ธ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดููุฉ: "Could not find the table"

**ุงูุญู:**
1. ุชุฃูุฏ ูู ุชูููุฐ SQL ูู ุงูุฎุทูุฉ 1
2. ุชุญูู ูู ุงุณู ุงูุฌุฏูู: `kv_store_6ffc6762`
3. ุชุฃูุฏ ูู Schema: `public`

### ูุดููุฉ: "Multiple GoTrueClient instances"

**ุงูุญู:**
- ุชู ุฅุตูุงุญูุง ุชููุงุฆูุงู ูู ุงูุฅุตุฏุงุฑ ุงูุญุงูู
- ุงููุธุงู ูุณุชุฎุฏู singleton pattern

### ูุดููุฉ: "Permission denied"

**ุงูุญู:**
1. ุชุฃูุฏ ูู ุชูููู RLS
2. ุชุฃูุฏ ูู ุฅุถุงูุฉ ุงูุณูุงุณุงุช
3. ุฑุงุฌุน ูุณู ุงูุฃูุงู ุฃุนูุงู

---

## ๐ฑ ุงูุงุณุชุฎุฏุงู ุจุฏูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุงููุธุงู ูุนูู ุจุฏูู Supabase! ุณูุณุชุฎุฏู ุจูุงูุงุช ูููุฐุฌูุฉ ูู ุงููููุงุช:
- `/components/products-view.tsx`
- `/components/customers-view.tsx`
- `/components/invoices-view.tsx`
- ุฅูุฎ...

**ุงููููุฒุงุช:**
- โ ูุนูู ููุฑุงู ุจุฏูู ุฅุนุฏุงุฏ
- โ ููุงุณุจ ููุชุฌุฑุจุฉ ูุงูุนุฑูุถ
- โ ูุง ูุญุชุงุฌ ุงุชุตุงู ุจุงูุฅูุชุฑูุช

**ุงูุนููุจ:**
- โ ุงูุจูุงูุงุช ุชูููุฏ ุนูุฏ ุฅุนุงุฏุฉ ุงูุชุญููู
- โ ูุง ูููู ุงููุฒุงููุฉ ุจูู ุงูุฃุฌูุฒุฉ
- โ ุบูุฑ ููุงุณุจ ููุฅูุชุงุฌ

---

## ๐ฏ ูุชู ุชุณุชุฎุฏู ูุงุนุฏุฉ ุงูุจูุงูุงุชุ

### ุงุณุชุฎุฏู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฅุฐุง:
- โ ุชุฑูุฏ ุญูุธ ุงูุจูุงูุงุช ุจุดูู ุฏุงุฆู
- โ ุชุญุชุงุฌ ูููุฒุงููุฉ ุจูู ุฃุฌูุฒุฉ ูุชุนุฏุฏุฉ
- โ ุชุฑูุฏ ูุดุฑ ุงููุธุงู ููุงุณุชุฎุฏุงู ุงููุนูู
- โ ุชุญุชุงุฌ ูุนูู ูุณุฎ ุงุญุชูุงุทูุฉ

### ูุง ุชุณุชุฎุฏู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฅุฐุง:
- โ ุชุฑูุฏ ููุท ุชุฌุฑุจุฉ ุงููุธุงู
- โ ุชููู ุจุนุฑุถ ุชูุฏููู ุณุฑูุน
- โ ุชุชุนูู ููููุฉ ุงุณุชุฎุฏุงู ุงููุธุงู
- โ ุชุทูุฑ ููุฒุงุช ุฌุฏูุฏุฉ ูุญููุงู

---

## ๐ ููุงุฑุฏ ุฅุถุงููุฉ

- [ุชูุซูู Supabase](https://supabase.com/docs)
- [ุฏููู ูุงุนุฏุฉ ุงูุจูุงูุงุช](DATABASE_GUIDE.md)
- [ุงูุจุฏุก ุงูุณุฑูุน](QUICK_START.md)

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ูุดุงูู:
1. ุชุญูู ูู Console (F12)
2. ุฑุงุฌุน ุฑุณุงุฆู ุงูุฎุทุฃ
3. ุงุชุจุน ุฎุทูุงุช ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ุฃุนูุงู

---

**ููุงุญุธุฉ:** ูุงุนุฏุฉ ุงูุจูุงูุงุช **ุงุฎุชูุงุฑูุฉ**. ุงููุธุงู ูุนูู ุจุดูู ููุชุงุฒ ุจุฏูููุง! ๐
